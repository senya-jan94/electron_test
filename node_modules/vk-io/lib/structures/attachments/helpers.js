"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.transformAttachments = void 0;

var _ = require("./");

/**
 * Transform raw attachments to wrapper
 *
 * @param {Array} attachments
 * @param {VK}    vk
 *
 * @return {Array}
 */
// eslint-disable-next-line import/prefer-default-export
const transformAttachments = (attachments = [], vk) => attachments.map(item => {
  const {
    type
  } = item;
  const attachment = item[type];

  switch (type) {
    case 'gift':
      return new _.GiftAttachment(attachment, vk);

    case 'wall':
      return new _.WallAttachment(attachment, vk);

    case 'link':
      return new _.LinkAttachment(attachment, vk);

    case 'photo':
      return new _.PhotoAttachment(attachment, vk);

    case 'audio':
      return new _.AudioAttachment(attachment, vk);

    case 'video':
      return new _.VideoAttachment(attachment, vk);

    case 'market':
      return new _.MarketAttachment(attachment, vk);

    case 'sticker':
      return new _.StickerAttachment(attachment, vk);

    case 'doc':
      return new _.DocumentAttachment(attachment, vk);

    case 'wall_reply':
      return new _.WallReplyAttachment(attachment, vk);

    case 'market_album':
      return new _.MarketAlbumAttachment(attachment, vk);

    default:
      return false;
  }
}).filter(Boolean);

exports.transformAttachments = transformAttachments;